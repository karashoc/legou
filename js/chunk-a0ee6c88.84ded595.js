(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0ee6c88"],{"2c57":function(t,s,i){"use strict";i("e1ea")},ad9a:function(t,s,i){"use strict";i.d(s,"a",(function(){return e})),i.d(s,"c",(function(){return n})),i.d(s,"b",(function(){return o}));var a=i("c1fb");function e(t){return Object(a["a"])({url:"/cart/cartList",params:t})}function n(t){return Object(a["a"])({url:"/order/submitAction",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/cart/deleteAction",params:t})}},e1ea:function(t,s,i){},e37e:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"details"},[i("van-nav-bar",{staticClass:"topbar",attrs:{fixed:!0,title:"商品详情页","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),i("div",{staticClass:"swiper"},[i("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.info.gallery,(function(t){return i("van-swipe-item",{key:t.id},[i("img",{staticClass:"swiperImg",attrs:{src:t.img_url,alt:""}})])})),1)],1),t._m(0),t.info.info?i("div",{staticClass:"main"},[i("p",{staticClass:"name"},[t._v(t._s(t.info.info.name))]),i("p",{staticClass:"brief"},[t._v(t._s(t.info.info.goods_brief))]),i("p",{staticClass:"price"},[t._v("￥"+t._s(t.info.info.retail_price))])]):t._e(),i("div",{staticClass:"select"},[i("van-cell",{attrs:{"is-link":""},on:{click:t.showPopup}},[t._v("选择商品规格及数量")])],1),i("div",{staticClass:"attribute"},[i("div",{staticClass:"head"},[t._v("商品参数")]),t._l(t.info.attribute,(function(s,a){return i("div",{key:a,staticClass:"item"},[i("div",{staticClass:"name"},[t._v(t._s(s.name))]),i("div",{staticClass:"value"},[t._v(t._s(s.value))])])}))],2),t.info.info?i("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.info.info.goods_desc)}}):t._e(),i("div",{staticClass:"issue"},[t._m(1),i("div",{staticClass:"content"},t._l(t.info.issue,(function(s){return i("div",{key:s.id,staticClass:"item"},[i("div",{staticClass:"question-box"},[i("div",{staticClass:"dot"},[t._v("·")]),i("div",{staticClass:"question"},[t._v(t._s(s.question))])]),i("div",{staticClass:"answer"},[t._v(t._s(s.answer))])])})),0)]),i("div",{staticClass:"recommend issue"},[t._m(2),i("div",{staticClass:"goodsList"},t._l(t.info.productList,(function(s){return i("router-link",{key:s.id,staticClass:"item",attrs:{to:"/info?id="+s.id,tag:"div"},nativeOn:{click:function(s){return t.refresh.apply(null,arguments)}}},[i("img",{attrs:{src:s.list_pic_url,alt:""}}),i("p",{staticClass:"name"},[t._v(t._s(s.name))]),i("p",{staticClass:"price"},[t._v("￥"+t._s(s.retail_price))])])})),1)]),i("div",{staticClass:"operation"},[i("div",{staticClass:"star",on:{click:t.collect}},[i("van-icon",{attrs:{name:t.info.collected?"star":"star-o",size:"24px",color:t.info.collected?"#b4282d":""}})],1),i("div",{staticClass:"cart",on:{click:t.goCart}},[i("van-badge",{attrs:{content:t.cartNum}},[i("van-icon",{attrs:{name:"cart-o",size:"24px"}})],1)],1),i("van-button",{staticClass:"buynow",attrs:{type:"default"}},[t._v("立即购买")]),i("van-button",{staticClass:"addcart",attrs:{color:"#b4282d"},on:{click:t.addToCart}},[t._v("加入购物车")])],1),i("van-popup",{staticClass:"popup",style:{height:"30%"},attrs:{position:"bottom",closeable:"","close-icon-position":"top-right"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[t.info.info?i("div",{staticClass:"up"},[i("div",{staticClass:"left"},[i("img",{attrs:{src:t.info.info.primary_pic_url,alt:""}})]),i("div",{staticClass:"right"},[i("p",{staticClass:"price"},[t._v("价格￥"+t._s(t.info.info.retail_price))]),i("p",{staticClass:"text"},[t._v("请选择数量")])])]):t._e(),i("div",{staticClass:"down"},[i("p",[t._v("数量")]),i("van-stepper",{attrs:{theme:"round","button-size":"22","disable-input":""},model:{value:t.num,callback:function(s){t.num=s},expression:"num"}})],1)])],1)},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"service"},[i("div",{staticClass:"item"},[t._v("30天无忧退货")]),i("div",{staticClass:"item"},[t._v("48小时快速退款")]),i("div",{staticClass:"item"},[t._v("满88元免邮费")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"head"},[i("p",{staticClass:"line"},[t._v("————")]),i("p",{staticClass:"title"},[t._v("常见问题")]),i("p",{staticClass:"line"},[t._v("————")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"head"},[i("p",{staticClass:"line"},[t._v("————")]),i("p",{staticClass:"title"},[t._v("大家都在看")]),i("p",{staticClass:"line"},[t._v("————")])])}],n=i("c1fb");function o(t){return Object(n["a"])({url:"/goods/detailaction",params:t})}function c(t){return Object(n["a"])({url:"/collect/addcollect",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/cart/addCart",method:"post",data:t})}var l=i("ad9a"),u={data:function(){return{info:{},show:!1,num:1,cartNum:""}},created:function(){this.init(),this.calcCartNum()},mounted:function(){},methods:{init:function(){var t=this;o({id:this.$route.query.id,openId:localStorage.getItem("openId")}).then((function(s){console.log(s),t.info=s}))},calcCartNum:function(){var t=this;Object(l["a"])({openId:localStorage.getItem("openId")}).then((function(s){console.log(s),t.cartNum=s.data.length}))},onClickLeft:function(){this.$router.go(-1)},showPopup:function(){this.show=!0},collect:function(){var t=this;c({goodsId:this.$route.query.id,openId:localStorage.getItem("openId")}).then((function(s){console.log(s),t.init()}))},addToCart:function(){var t=this;0==this.show?this.show=!0:r({goodsId:this.$route.query.id,number:this.num,openId:localStorage.getItem("openId")}).then((function(s){console.log(s),t.calcCartNum()}))},goCart:function(){this.$router.push("/cart")},refresh:function(){console.log("刷新页面"),this.$router.go(0)}}},d=u,v=(i("2c57"),i("2877")),f=Object(v["a"])(d,a,e,!1,null,"e3d71aee",null);s["default"]=f.exports}}]);